{
  "collections": {
    "users": {
      "schema": {
        "user_id": {"type": "string", "required": true},
        "email": {"type": "string", "required": false},
        "display_name": {"type": "string", "required": false},
        "webauthn_challenge": {"type": "string", "required": false},
        "webauthn_credential": {"type": "string", "required": false},
        "last_login": {"type": "datetime", "required": false}
      },
      "indexes": [
        {"key": {"user_id": 1}, "unique": true}
      ]
    },
    "notes": {
      "schema": {
        "user_id": {"type": "string", "required": true},
        "content": {"type": "string", "required": true},
        "tags": {"type": "array", "items": {"type": "string"}, "required": false},
        "timestamp": {"type": "datetime", "required": true},
        "updated_at": {"type": "datetime", "required": false}
      },
      "indexes": [
        {"key": {"user_id": 1}},
        {"key": {"tags": 1}}
      ]
    },
    "wallets": {
      "schema": {
        "user_id": {"type": "string", "required": true},
        "address": {"type": "string", "required": true},
        "balance": {"type": "number", "required": true},
        "webxos": {"type": "number", "required": true},
        "timestamp": {"type": "datetime", "required": true}
      },
      "indexes": [
        {"key": {"user_id": 1}, "unique": true}
      ]
    },
    "resources": {
      "schema": {
        "timestamp": {"type": "datetime", "required": true},
        "resources": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {"type": "string", "required": true},
              "usage": {"type": "number", "required": true},
              "total": {"type": "number", "required": true},
              "unit": {"type": "string", "required": true}
            }
          }
        }
      },
      "indexes": [
        {"key": {"timestamp": 1}}
      ]
    },
    "quantum_circuits": {
      "schema": {
        "vial_id": {"type": "string", "required": true},
        "circuit": {"type": "string", "required": true},
        "result": {"type": "object", "required": true},
        "execution_time": {"type": "number", "required": true},
        "timestamp": {"type": "datetime", "required": true}
      },
      "indexes": [
        {"key": {"vial_id": 1}},
        {"key": {"timestamp": 1}}
      ]
    }
  }
}
