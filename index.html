<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEBXOS - Web Based Operating System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --terminal-black: #000000;
            --terminal-green: #00FF00;
            --terminal-red: #FF0000;
            --terminal-gray: #1E1E1E;
            --terminal-light-gray: #2D2D2D;
            --terminal-medium-gray: #3A3A3A;
            --terminal-border: #7A7A7A;
            --terminal-yellow: #FFFF00;
            --terminal-blue: #0000FF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }

        body {
            font-family: 'Courier New', monospace;
            background-color: var(--terminal-black);
            color: var(--terminal-green);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            touch-action: manipulation;
        }

        /* === NEURAL DOT GALAXY BACKGROUND === */
        #galaxyCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* === LOADING SCREEN === */
        .loading-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--terminal-black);
            display: flex; align-items: center; justify-content: center;
            z-index: 9999; flex-direction: column;
            font-size: 1.2rem;
            text-align: center;
        }

        .loading-screen.hidden { 
            display: none; 
        }

        .loading-bar {
            width: 300px; height: 4px;
            background: var(--terminal-light-gray);
            margin-top: 20px;
            border-radius: 2px;
            overflow: hidden;
        }

        .loading-fill {
            width: 0%; height: 100%;
            background: var(--terminal-green);
            box-shadow: 0 0 10px var(--terminal-green);
            transition: width 0.3s;
        }

        .webxos-logo {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 0 10px var(--terminal-green);
            animation: flow 3s infinite alternate;
        }

        .webxos-subtitle {
            font-size: 1.2rem;
            color: var(--terminal-yellow);
            margin-bottom: 30px;
        }

        @keyframes flow {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }

        /* === TASKBAR === */
        .taskbar {
            height: 32px;
            background: var(--terminal-gray);
            border-top: 1px solid #fff;
            display: flex;
            align-items: center;
            padding: 0 4px;
            box-shadow: 0 -1px 3px rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .start-btn {
            background: var(--terminal-black);
            border: 1px outset var(--terminal-green);
            padding: 2px 12px;
            font-weight: bold;
            color: var(--terminal-green);
            cursor: pointer;
            margin-right: 8px;
            font-size: 0.9rem;
        }

        .start-btn:active {
            border: 1px inset var(--terminal-green);
        }

        .taskbar-icons {
            display: flex;
            gap: 4px;
            flex-grow: 1;
        }

        .task-icon {
            width: 24px; height: 24px;
            background: var(--terminal-light-gray);
            border: 1px solid var(--terminal-medium-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
            color: var(--terminal-green);
        }

        .task-icon.active {
            background: var(--terminal-green);
            color: black;
        }

        .task-icon.admin {
            background: var(--terminal-blue);
            color: white;
        }

        .clock {
            margin-left: auto;
            font-size: 0.8rem;
            padding: 0 8px;
        }

        /* === DESKTOP === */
        .desktop {
            flex: 1;
            padding: 8px;
            overflow: auto;
            position: relative;
            background: transparent;
        }

        .desktop-icon {
            width: 80px;
            text-align: center;
            margin: 8px;
            cursor: pointer;
            font-size: 0.75rem;
            color: var(--terminal-green);
            transition: all 0.2s;
            position: absolute;
            user-select: none;
            -webkit-user-select: none;
        }

        .desktop-icon:hover {
            color: var(--terminal-yellow);
            background: rgba(0, 255, 0, 0.1);
            border-radius: 4px;
        }

        .desktop-icon.selected {
            background: rgba(0, 128, 0, 0.5);
            color: white;
        }

        .desktop-icon i {
            font-size: 32px;
            display: block;
            margin-bottom: 4px;
            filter: drop-shadow(0 0 3px var(--terminal-green));
        }

        .desktop-icon.folder i {
            color: var(--terminal-yellow);
            filter: drop-shadow(0 0 3px var(--terminal-yellow));
        }

        .desktop-icon.trash i {
            color: var(--terminal-red);
            filter: drop-shadow(0 0 3px var(--terminal-red));
        }

        /* === WINDOWS === */
        .win95-window {
            position: absolute;
            background: var(--terminal-gray);
            border: 2px solid var(--terminal-border);
            border-top-color: #fff;
            border-left-color: #fff;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.8);
            min-width: 400px;
            min-height: 300px;
            display: none;
            flex-direction: column;
            max-width: 90vw;
            max-height: 80vh;
        }

        .win95-window.active {
            display: flex;
            z-index: 100;
        }

        .win95-window.maximized {
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: calc(100% - 32px) !important;
            max-width: 100vw;
            max-height: calc(100vh - 32px);
        }

        .title-bar {
            background: linear-gradient(90deg, #000080, #1084d0);
            color: white;
            padding: 3px 6px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
        }

        .title-bar.admin {
            background: linear-gradient(90deg, #4B0082, #8A2BE2);
        }

        .title-bar button {
            width: 16px; height: 14px;
            background: var(--terminal-gray);
            border: 1px solid #fff;
            font-size: 10px;
            text-align: center;
            line-height: 10px;
            margin-left: 2px;
            cursor: pointer;
        }

        .window-content {
            flex: 1;
            padding: 10px;
            overflow: auto;
            background: var(--terminal-black);
            display: flex;
            flex-direction: column;
        }

        /* === EDITOR STYLES (Integrated from editor.html) === */
        .editor-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .editor-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border-right: 1px solid var(--terminal-medium-gray);
        }

        .editor-panel:last-child {
            border-right: none;
        }

        .editor-header {
            padding: 10px 15px;
            background-color: var(--terminal-light-gray);
            border-bottom: 1px solid var(--terminal-medium-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: var(--terminal-green);
        }

        .editor-toolbar {
            display: flex;
            gap: 8px;
            padding: 8px 15px;
            background-color: var(--terminal-gray);
            border-bottom: 1px solid var(--terminal-medium-gray);
            align-items: center;
            flex-wrap: wrap;
        }

        .editor-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: var(--terminal-black);
        }

        .editor {
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            resize: none;
            background-color: transparent;
            color: var(--terminal-green);
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            line-height: 1.5;
        }

        .preview {
            line-height: 1.6;
            font-size: 0.95rem;
            font-family: 'Courier New', monospace;
            color: var(--terminal-green);
        }

        .btn {
            background: none;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--terminal-green);
            font-size: 0.85rem;
            background: var(--terminal-gray);
            border: 1px solid var(--terminal-medium-gray);
        }

        .btn:hover {
            background-color: var(--terminal-medium-gray);
        }

        .btn-primary {
            background-color: var(--terminal-blue);
            color: white;
        }

        .btn-primary:hover {
            background-color: #3367d6;
        }

        .format-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .font-selector, .font-size-selector, .color-selector {
            padding: 6px 10px;
            border: 1px solid var(--terminal-medium-gray);
            border-radius: 4px;
            background-color: var(--terminal-gray);
            cursor: pointer;
            color: var(--terminal-green);
        }

        /* === GUIDE WINDOW === */
        .guide-content {
            height: 100%;
            overflow-y: auto;
            padding: 8px;
            background: var(--terminal-light-gray);
            border: 1px solid var(--terminal-medium-gray);
        }

        .guide-section {
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--terminal-medium-gray);
        }

        .guide-section h3 {
            color: var(--terminal-green);
            margin-bottom: 8px;
        }

        .guide-section p {
            margin-bottom: 8px;
            font-size: 0.85rem;
        }

        .guide-section code {
            background: var(--terminal-black);
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: var(--terminal-green);
        }

        /* === TERMINAL GLOW === */
        .terminal-glow { box-shadow: 0 0 10px var(--terminal-green), 0 0 20px var(--terminal-green); }
        .terminal-border { border: 1px solid var(--terminal-green); box-shadow: 0 0 8px var(--terminal-green); }
        .terminal-text { color: var(--terminal-green); text-shadow: 0 0 5px var(--terminal-green); }

        /* === RESPONSIVE TOUCH === */
        @media (max-width: 768px) {
            .desktop-icon { width: 60px; font-size: 0.7rem; }
            .desktop-icon i { font-size: 28px; }
        }

        /* === DRAG AND DROP === */
        .desktop.drag-over {
            background: rgba(0, 255, 0, 0.1);
        }

        .desktop-icon.dragging {
            opacity: 0.7;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <!-- NEURAL DOT GALAXY BACKGROUND -->
    <canvas id="galaxyCanvas"></canvas>

    <!-- LOADING SCREEN -->
    <div class="loading-screen" id="loadingScreen">
        <div class="webxos-logo">WEBXOS</div>
        <div class="webxos-subtitle">web based operating system</div>
        <div class="loading-bar"><div class="loading-fill" id="loadingFill"></div></div>
    </div>

    <!-- TASKBAR -->
    <div class="taskbar" id="taskbar" style="display: none;">
        <button class="start-btn" id="startBtn">WEBXOS</button>
        <div class="taskbar-icons">
            <div class="task-icon active" id="editorIcon"><i class="fas fa-edit"></i></div>
            <div class="task-icon" id="guideIcon"><i class="fas fa-book"></i></div>
            <div class="task-icon" id="gamesIcon"><i class="fas fa-gamepad"></i></div>
        </div>
        <div class="clock" id="clock"></div>
    </div>

    <!-- DESKTOP -->
    <div class="desktop" id="desktop" style="display: none;">
        <!-- Desktop icons will be dynamically created -->
    </div>

    <!-- EDITOR WINDOW -->
    <div class="win95-window" id="editorWindow">
        <div class="title-bar">
            <span>WebXOS Editor</span>
            <div>
                <button id="minEditor">_</button>
                <button id="maxEditor">□</button>
                <button id="closeEditor">×</button>
            </div>
        </div>
        <div class="window-content">
            <div class="editor-area write-mode">
                <div class="editor-toolbar">
                    <div class="format-controls">
                        <select class="font-selector" id="fontSelector">
                            <option value="default">Default Font</option>
                            <option value="times">Times New Roman</option>
                            <option value="arial">Arial</option>
                        </select>
                        <select class="font-size-selector" id="fontSizeSelector">
                            <option value="12">12px</option>
                            <option value="14">14px</option>
                            <option value="16" selected>16px</option>
                            <option value="18">18px</option>
                            <option value="20">20px</option>
                            <option value="24">24px</option>
                        </select>
                        <input type="color" class="color-selector" id="colorSelector" value="#00FF00">
                    </div>
                    <button class="btn" id="spellCheckBtn">
                        <i class="fas fa-check-circle"></i>
                        Spell Check
                    </button>
                    <button class="btn" id="exportBtn">
                        <i class="fas fa-download"></i>
                        Export
                    </button>
                </div>
                <div class="editor-container">
                    <div class="editor-panel">
                        <div class="editor-header">
                            <span>Editor</span>
                            <button class="btn" id="clearBtn">
                                <i class="fas fa-eraser"></i>
                                Clear
                            </button>
                        </div>
                        <div class="editor-body">
                            <textarea class="editor" id="markdownEditor" placeholder="Start writing your Markdown here..." spellcheck="false"># Welcome to WebXOS Editor

A powerful writing environment integrated into the WebXOS operating system.

## Features

- **Markdown Support** - Write with full Markdown syntax
- **Live Preview** - See your formatted content as you type
- **Export Options** - Save your work in multiple formats
- **Terminal Styling** - Consistent with WebXOS design</textarea>
                        </div>
                    </div>
                    <div class="editor-panel">
                        <div class="editor-header">
                            <span>Preview</span>
                            <button class="btn" id="refreshPreviewBtn">
                                <i class="fas fa-sync-alt"></i>
                                Refresh
                            </button>
                        </div>
                        <div class="editor-body">
                            <div class="preview" id="markdownPreview"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GUIDE WINDOW -->
    <div class="win95-window" id="guideWindow">
        <div class="title-bar">
            <span>WEBXOS Guide</span>
            <div>
                <button id="minGuide">_</button>
                <button id="maxGuide">□</button>
                <button id="closeGuide">×</button>
            </div>
        </div>
        <div class="window-content">
            <div class="guide-content" id="guideContent">
                <div class="guide-section">
                    <h3>Getting Started</h3>
                    <p>Welcome to WEBXOS - a web-based operating system with a retro terminal interface.</p>
                    <p>This OS provides a desktop-like experience in your browser with a Windows 95-inspired interface.</p>
                </div>
                <div class="guide-section">
                    <h3>Applications</h3>
                    <p><strong>Editor:</strong> A powerful Markdown editor with live preview</p>
                    <p><strong>Games:</strong> Collection of browser-based games</p>
                    <p><strong>Tools:</strong> Various utilities and applications</p>
                    <p><strong>Research:</strong> Information and knowledge base</p>
                    <p><strong>Links:</strong> Quick access to web resources</p>
                </div>
                <div class="guide-section">
                    <h3>Desktop Features</h3>
                    <p>The desktop provides access to your system folders:</p>
                    <p><strong>Games:</strong> Entertainment and gaming applications</p>
                    <p><strong>Tools:</strong> System utilities and applications</p>
                    <p><strong>Research:</strong> Information and knowledge base</p>
                    <p><strong>Links:</strong> Quick access to web resources</p>
                    <p><strong>Documents:</strong> Your files and documents</p>
                    <p><strong>Trash:</strong> Deleted items</p>
                </div>
            </div>
        </div>
    </div>

    <!-- GAMES WINDOW -->
    <div class="win95-window" id="gamesWindow">
        <div class="title-bar">
            <span>WebXOS Games</span>
            <div>
                <button id="minGames">_</button>
                <button id="maxGames">□</button>
                <button id="closeGames">×</button>
            </div>
        </div>
        <div class="window-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; padding: 10px;">
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/chess.html', '_blank')">
                    <i class="fas fa-chess"></i>
                    <div>AI Chess</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/blade.html', '_blank')">
                    <i class="fas fa-crosshairs"></i>
                    <div>Blade</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/codecrunch.html', '_blank')">
                    <i class="fas fa-code"></i>
                    <div>Code Crunch</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/command.html', '_blank')">
                    <i class="fas fa-terminal"></i>
                    <div>Command</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/destroyer.html', '_blank')">
                    <i class="fas fa-fighter-jet"></i>
                    <div>Destroyer</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/galaxycraft.html', '_blank')">
                    <i class="fas fa-rocket"></i>
                    <div>GalaxyCraft</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/paintball.html', '_blank')">
                    <i class="fas fa-paint-brush"></i>
                    <div>Paintball</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/swarm.html', '_blank')">
                    <i class="fas fa-bug"></i>
                    <div>Swarm</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/trios.html', '_blank')">
                    <i class="fas fa-shapes"></i>
                    <div>Trios</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/xforce.html', '_blank')">
                    <i class="fas fa-bolt"></i>
                    <div>X-Force</div>
                </div>
            </div>
        </div>
    </div>

    <!-- TOOLS WINDOW -->
    <div class="win95-window" id="toolsWindow">
        <div class="title-bar">
            <span>WebXOS Tools & Agents</span>
            <div>
                <button id="minTools">_</button>
                <button id="maxTools">□</button>
                <button id="closeTools">×</button>
            </div>
        </div>
        <div class="window-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; padding: 10px;">
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/arcr.html', '_blank')">
                    <i class="fas fa-microchip"></i>
                    <div>Arcr</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/atomic.html', '_blank')">
                    <i class="fas fa-clock"></i>
                    <div>Atomic Clock</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/booki.html', '_blank')">
                    <i class="fas fa-book"></i>
                    <div>Booki</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/chatbot.html', '_blank')">
                    <i class="fas fa-robot"></i>
                    <div>ChatBOT</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/codesign.html', '_blank')">
                    <i class="fas fa-pencil-alt"></i>
                    <div>CodeSIGN</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/exoskeleton.html', '_blank')">
                    <i class="fas fa-user-shield"></i>
                    <div>Exoskeleton</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/gridlocker.html', '_blank')">
                    <i class="fas fa-th-large"></i>
                    <div>GridLOCKER</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/injector.html', '_blank')">
                    <i class="fas fa-syringe"></i>
                    <div>Injector</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/lattest.html', '_blank')">
                    <i class="fas fa-tachometer-alt"></i>
                    <div>Latency Test</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/launch.html', '_blank')">
                    <i class="fas fa-play"></i>
                    <div>Launch Sequence</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/sacred.html', '_blank')">
                    <i class="fas fa-eye"></i>
                    <div>Sacred</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/tempserver.html', '_blank')">
                    <i class="fas fa-server"></i>
                    <div>TempSERVER</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/watchdog.html', '_blank')">
                    <i class="fas fa-dog"></i>
                    <div>WatchDOG</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/vial.html', '_blank')">
                    <i class="fas fa-vial"></i>
                    <div>Vial</div>
                </div>
            </div>
        </div>
    </div>

    <!-- RESEARCH WINDOW -->
    <div class="win95-window" id="researchWindow">
        <div class="title-bar">
            <span>WebXOS Research</span>
            <div>
                <button id="minResearch">_</button>
                <button id="maxResearch">□</button>
                <button id="closeResearch">×</button>
            </div>
        </div>
        <div class="window-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; padding: 10px;">
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/macroslow.html', '_blank')">
                    <i class="fas fa-snail"></i>
                    <div>Macroslow</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/quantum.html', '_blank')">
                    <i class="fas fa-atom"></i>
                    <div>Quantum MCP</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/quant.html', '_blank')">
                    <i class="fas fa-globe-americas"></i>
                    <div>Quantum Geography</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/greenstudy.html', '_blank')">
                    <i class="fas fa-leaf"></i>
                    <div>Carbon Stats</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/beluga.html', '_blank')">
                    <i class="fas fa-water"></i>
                    <div>Beluga</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/radical.html', '_blank')">
                    <i class="fas fa-star"></i>
                    <div>Radical Simplicity</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/bluemeshinfo.html', '_blank')">
                    <i class="fas fa-bluetooth"></i>
                    <div>Bluetooth Mesh</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/mlm.html', '_blank')">
                    <i class="fas fa-brain"></i>
                    <div>Micro LMs</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/greencodeinfo.html', '_blank')">
                    <i class="fas fa-code"></i>
                    <div>Green Coding</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/regeninfo.html', '_blank')">
                    <i class="fas fa-recycle"></i>
                    <div>Regenerative Data</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/promptguide.html', '_blank')">
                    <i class="fas fa-question"></i>
                    <div>Prompt Guide</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/promptinjection.html', '_blank')">
                    <i class="fas fa-exclamation-triangle"></i>
                    <div>Prompt Injection</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/promptcomp.html', '_blank')">
                    <i class="fas fa-running"></i>
                    <div>Prompt Athletics</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/promptpoetry.html', '_blank')">
                    <i class="fas fa-pen-fancy"></i>
                    <div>Prompt Poetry</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/liquid.html', '_blank')">
                    <i class="fas fa-tint"></i>
                    <div>Liquid Data</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/drone.html', '_blank')">
                    <i class="fas fa-helicopter"></i>
                    <div>Drone Tech</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/subm.html', '_blank')">
                    <i class="fas fa-subway"></i>
                    <div>Underwater Tech</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('http://webxos.netlify.app/subt.html', '_blank')">
                    <i class="fas fa-mountain"></i>
                    <div>Underground Tech</div>
                </div>
            </div>
        </div>
    </div>

    <!-- LINKS WINDOW -->
    <div class="win95-window" id="linksWindow">
        <div class="title-bar">
            <span>WebXOS Links</span>
            <div>
                <button id="minLinks">_</button>
                <button id="maxLinks">□</button>
                <button id="closeLinks">×</button>
            </div>
        </div>
        <div class="window-content">
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; padding: 10px;">
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('https://x.com/webxos', '_blank')">
                    <i class="fab fa-twitter"></i>
                    <div>X.com/webxos</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('https://x.com/galaxycraft3d', '_blank')">
                    <i class="fab fa-twitter"></i>
                    <div>X.com/galaxycraft</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('https://github.com/webxos', '_blank')">
                    <i class="fab fa-github"></i>
                    <div>GitHub</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('https://kick.com/webxos', '_blank')">
                    <i class="fas fa-play-circle"></i>
                    <div>Kick</div>
                </div>
                <div class="desktop-icon" style="position: relative; width: 100%; height: 80px;" onclick="window.open('https://www.tiktok.com/@webxos', '_blank')">
                    <i class="fab fa-tiktok"></i>
                    <div>TikTok</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // === NEURAL DOT GALAXY BACKGROUND ===
        const canvas = document.getElementById('galaxyCanvas');
        const ctx = canvas.getContext('2d');
        let dots = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initDots();
        }

        function initDots() {
            dots = [];
            const dotCount = Math.floor((canvas.width * canvas.height) / 5000);
            
            for (let i = 0; i < dotCount; i++) {
                dots.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2 + 0.5,
                    speed: Math.random() * 0.5 + 0.1,
                    color: Math.random() > 0.7 ? '#00FF00' : '#FFFFFF'
                });
            }
        }

        function drawDots() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let i = 0; i < dots.length; i++) {
                const dot = dots[i];
                
                // Draw dot
                ctx.beginPath();
                ctx.arc(dot.x, dot.y, dot.size, 0, Math.PI * 2);
                ctx.fillStyle = dot.color;
                ctx.fill();
                
                // Move dot
                dot.y += dot.speed;
                
                // Reset dot if it goes off screen
                if (dot.y > canvas.height) {
                    dot.y = 0;
                    dot.x = Math.random() * canvas.width;
                }
            }
            
            requestAnimationFrame(drawDots);
        }

        // Initialize canvas and dots
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        drawDots();

        // === DRAG AND DROP MANAGER ===
        const DragManager = (() => {
            let draggedElement = null;
            let dragOffset = { x: 0, y: 0 };
            
            const init = () => {
                document.addEventListener('mousedown', startDrag);
                document.addEventListener('touchstart', startDragTouch, { passive: false });
                document.addEventListener('mousemove', drag);
                document.addEventListener('touchmove', dragTouch, { passive: false });
                document.addEventListener('mouseup', endDrag);
                document.addEventListener('touchend', endDrag);
            };
            
            const startDrag = (e) => {
                if (!e.target.closest('.desktop-icon')) return;
                
                const icon = e.target.closest('.desktop-icon');
                if (!icon) return;
                
                draggedElement = icon;
                dragOffset.x = e.clientX - icon.offsetLeft;
                dragOffset.y = e.clientY - icon.offsetTop;
                
                icon.classList.add('dragging');
                e.preventDefault();
            };
            
            const startDragTouch = (e) => {
                if (!e.target.closest('.desktop-icon')) return;
                
                const icon = e.target.closest('.desktop-icon');
                if (!icon) return;
                
                draggedElement = icon;
                const touch = e.touches[0];
                dragOffset.x = touch.clientX - icon.offsetLeft;
                dragOffset.y = touch.clientY - icon.offsetTop;
                
                icon.classList.add('dragging');
                e.preventDefault();
            };
            
            const drag = (e) => {
                if (!draggedElement) return;
                
                draggedElement.style.left = (e.clientX - dragOffset.x) + 'px';
                draggedElement.style.top = (e.clientY - dragOffset.y) + 'px';
                e.preventDefault();
            };
            
            const dragTouch = (e) => {
                if (!draggedElement) return;
                
                const touch = e.touches[0];
                draggedElement.style.left = (touch.clientX - dragOffset.x) + 'px';
                draggedElement.style.top = (touch.clientY - dragOffset.y) + 'px';
                e.preventDefault();
            };
            
            const endDrag = () => {
                if (draggedElement) {
                    draggedElement.classList.remove('dragging');
                    draggedElement = null;
                }
            };
            
            return { init };
        })();

        // === LOADING ANIMATION ===
        document.addEventListener('DOMContentLoaded', function() {
            const loadingFill = document.getElementById('loadingFill');
            const loadingScreen = document.getElementById('loadingScreen');
            const taskbar = document.getElementById('taskbar');
            const desktop = document.getElementById('desktop');
            
            let loadProgress = 0;
            const loadInterval = setInterval(() => {
                loadProgress += 2;
                loadingFill.style.width = loadProgress + '%';
                if (loadProgress >= 100) {
                    clearInterval(loadInterval);
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                        taskbar.style.display = 'flex';
                        desktop.style.display = 'flex';
                        initializeOS();
                    }, 500);
                }
            }, 30);
        });

        // === CLOCK ===
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            document.getElementById('clock').textContent = time;
        }

        // === WINDOW MANAGEMENT ===
        function initializeOS() {
            // Initialize managers
            DragManager.init();
            
            // Start clock
            setInterval(updateClock, 1000);
            updateClock();

            // Create desktop icons
            createDesktopIcons();

            const windows = {
                editor: document.getElementById('editorWindow'),
                guide: document.getElementById('guideWindow'),
                games: document.getElementById('gamesWindow'),
                tools: document.getElementById('toolsWindow'),
                research: document.getElementById('researchWindow'),
                links: document.getElementById('linksWindow')
            };

            // Window control functions
            function setupWindowControls(winId, minBtnId, maxBtnId, closeBtnId) {
                document.getElementById(minBtnId).onclick = () => windows[winId].classList.remove('active');
                document.getElementById(maxBtnId).onclick = () => windows[winId].classList.toggle('maximized');
                document.getElementById(closeBtnId).onclick = () => {
                    windows[winId].classList.remove('active');
                    windows[winId].classList.remove('maximized');
                };
            }

            // Setup window controls
            setupWindowControls('editor', 'minEditor', 'maxEditor', 'closeEditor');
            setupWindowControls('guide', 'minGuide', 'maxGuide', 'closeGuide');
            setupWindowControls('games', 'minGames', 'maxGames', 'closeGames');
            setupWindowControls('tools', 'minTools', 'maxTools', 'closeTools');
            setupWindowControls('research', 'minResearch', 'maxResearch', 'closeResearch');
            setupWindowControls('links', 'minLinks', 'maxLinks', 'closeLinks');

            function openWindow(win) {
                Object.values(windows).forEach(w => {
                    w.classList.remove('active');
                    w.classList.remove('maximized');
                });
                win.classList.add('active');
                win.style.left = Math.random() * 200 + 'px';
                win.style.top = Math.random() * 100 + 'px';
            }

            // Desktop icons event handlers
            document.addEventListener('click', (e) => {
                if (e.target.closest('.desktop-icon')) {
                    const icon = e.target.closest('.desktop-icon');
                    const iconId = icon.id;
                    
                    // Deselect all icons
                    document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
                    // Select clicked icon
                    icon.classList.add('selected');
                    
                    switch(iconId) {
                        case 'desktopGames':
                            openWindow(windows.games);
                            break;
                        case 'desktopTools':
                            openWindow(windows.tools);
                            break;
                        case 'desktopResearch':
                            openWindow(windows.research);
                            break;
                        case 'desktopLinks':
                            openWindow(windows.links);
                            break;
                        case 'desktopDocuments':
                            openWindow(windows.editor);
                            break;
                        case 'desktopTrash':
                            addLine('Opening Trash folder', 'success');
                            break;
                    }
                }
            });

            // Taskbar icons
            document.getElementById('editorIcon').onclick = () => openWindow(windows.editor);
            document.getElementById('guideIcon').onclick = () => openWindow(windows.guide);
            document.getElementById('gamesIcon').onclick = () => openWindow(windows.games);

            // === DRAG WINDOWS ===
            document.querySelectorAll('.title-bar').forEach(bar => {
                let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
                let isMaximized = false;
                
                const startDrag = (e) => {
                    if (e.target.tagName === 'BUTTON') return;
                    e.preventDefault();
                    
                    // Store if window is maximized before drag
                    isMaximized = bar.parentElement.classList.contains('maximized');
                    if (isMaximized) {
                        bar.parentElement.classList.remove('maximized');
                        // Set position based on mouse position
                        bar.parentElement.style.left = (e.clientX - bar.parentElement.offsetWidth/2) + 'px';
                        bar.parentElement.style.top = e.clientY + 'px';
                    }
                    
                    pos3 = e.clientX;
                    pos4 = e.clientY;
                    document.addEventListener('mouseup', closeDragElement);
                    document.addEventListener('mousemove', elementDrag);
                };
                
                const startDragTouch = (e) => {
                    if (e.target.tagName === 'BUTTON') return;
                    e.preventDefault();
                    
                    const touch = e.touches[0];
                    isMaximized = bar.parentElement.classList.contains('maximized');
                    if (isMaximized) {
                        bar.parentElement.classList.remove('maximized');
                        bar.parentElement.style.left = (touch.clientX - bar.parentElement.offsetWidth/2) + 'px';
                        bar.parentElement.style.top = touch.clientY + 'px';
                    }
                    
                    pos3 = touch.clientX;
                    pos4 = touch.clientY;
                    document.addEventListener('touchend', closeDragElement);
                    document.addEventListener('touchmove', elementDragTouch, { passive: false });
                };
                
                const elementDrag = (e) => {
                    e.preventDefault();
                    pos1 = pos3 - e.clientX;
                    pos2 = pos4 - e.clientY;
                    pos3 = e.clientX;
                    pos4 = e.clientY;
                    const win = bar.parentElement;
                    win.style.top = (win.offsetTop - pos2) + "px";
                    win.style.left = (win.offsetLeft - pos1) + "px";
                };
                
                const elementDragTouch = (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    pos1 = pos3 - touch.clientX;
                    pos2 = pos4 - touch.clientY;
                    pos3 = touch.clientX;
                    pos4 = touch.clientY;
                    const win = bar.parentElement;
                    win.style.top = (win.offsetTop - pos2) + "px";
                    win.style.left = (win.offsetLeft - pos1) + "px";
                };
                
                const closeDragElement = () => {
                    document.removeEventListener('mouseup', closeDragElement);
                    document.removeEventListener('mousemove', elementDrag);
                    document.removeEventListener('touchend', closeDragElement);
                    document.removeEventListener('touchmove', elementDragTouch);
                };
                
                bar.addEventListener('mousedown', startDrag);
                bar.addEventListener('touchstart', startDragTouch, { passive: false });
            });

            // === EDITOR FUNCTIONALITY ===
            const markdownEditor = document.getElementById('markdownEditor');
            const markdownPreview = document.getElementById('markdownPreview');
            let currentTextColor = '#00FF00';

            // Configure marked for GitHub-flavored markdown
            marked.setOptions({
                breaks: true,
                gfm: true,
                headerIds: true,
                highlight: function(code, lang) {
                    return code;
                }
            });

            function updatePreview() {
                const markdownText = markdownEditor.value;
                try {
                    markdownPreview.innerHTML = marked.parse(markdownText);
                    // Apply current text color to preview
                    markdownPreview.style.color = currentTextColor;
                } catch (error) {
                    markdownPreview.innerHTML = `<p style="color: red;">Error rendering markdown: ${error.message}</p>`;
                }
            }

            function autoSave() {
                localStorage.setItem('webxosEditorContent', markdownEditor.value);
            }

            // Editor event listeners
            markdownEditor.addEventListener('input', () => {
                updatePreview();
                autoSave();
            });

            document.getElementById('clearBtn').addEventListener('click', () => {
                if (confirm('Are you sure you want to clear the editor?')) {
                    markdownEditor.value = '';
                    updatePreview();
                    autoSave();
                }
            });

            document.getElementById('refreshPreviewBtn').addEventListener('click', updatePreview);

            document.getElementById('fontSelector').addEventListener('change', (e) => {
                applyFontTheme(e.target.value);
            });

            document.getElementById('fontSizeSelector').addEventListener('change', (e) => {
                applyFontSize(e.target.value);
            });

            document.getElementById('colorSelector').addEventListener('input', (e) => {
                applyTextColor(e.target.value);
            });

            document.getElementById('exportBtn').addEventListener('click', exportDocument);

            function applyFontTheme(font) {
                const editorArea = document.querySelector('.editor-area');
                editorArea.classList.remove('font-times', 'font-arial');
                
                if (font && font !== 'default') {
                    editorArea.classList.add(`font-${font}`);
                }
                updatePreview();
            }

            function applyFontSize(size) {
                if (size) {
                    markdownEditor.style.fontSize = `${size}px`;
                    markdownPreview.style.fontSize = `${size}px`;
                    updatePreview();
                }
            }

            function applyTextColor(color) {
                if (color) {
                    currentTextColor = color;
                    markdownEditor.style.color = color;
                    markdownPreview.style.color = color;
                    updatePreview();
                }
            }

            function exportDocument() {
                const content = markdownEditor.value;
                const blob = new Blob([content], { type: 'text/markdown' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'document.md';
                a.click();
                URL.revokeObjectURL(url);
            }

            // Load autosaved content
            const savedContent = localStorage.getItem('webxosEditorContent');
            if (savedContent) {
                markdownEditor.value = savedContent;
                updatePreview();
            }

            // Initialize editor
            updatePreview();

            // === CREATE DESKTOP ICONS ===
            function createDesktopIcons() {
                const desktop = document.getElementById('desktop');
                const icons = [
                    { id: 'desktopGames', icon: 'gamepad', name: 'Games', x: 20, y: 20, folder: true },
                    { id: 'desktopTools', icon: 'tools', name: 'Tools', x: 20, y: 100, folder: true },
                    { id: 'desktopResearch', icon: 'search', name: 'Research', x: 20, y: 180, folder: true },
                    { id: 'desktopLinks', icon: 'link', name: 'Links', x: 20, y: 260, folder: true },
                    { id: 'desktopDocuments', icon: 'folder', name: 'Documents', x: 120, y: 20, folder: true },
                    { id: 'desktopTrash', icon: 'trash', name: 'Trash', x: 120, y: 100, trash: true }
                ];
                
                icons.forEach(iconConfig => {
                    const icon = document.createElement('div');
                    icon.id = iconConfig.id;
                    icon.className = `desktop-icon ${iconConfig.folder ? 'folder' : ''} ${iconConfig.admin ? 'admin' : ''} ${iconConfig.trash ? 'trash' : ''}`;
                    icon.style.left = iconConfig.x + 'px';
                    icon.style.top = iconConfig.y + 'px';
                    icon.innerHTML = `
                        <i class="fas fa-${iconConfig.icon}"></i>
                        <div>${iconConfig.name}</div>
                    `;
                    icon.dataset.name = iconConfig.name;
                    desktop.appendChild(icon);
                });
            }

            // === TOUCH OPTIMIZATION ===
            document.querySelectorAll('button, .desktop-icon').forEach(el => {
                el.addEventListener('touchstart', () => {
                    el.style.transform = 'scale(0.95)';
                    el.addEventListener('contextmenu', (e) => e.preventDefault());
                });
                el.addEventListener('touchend', () => el.style.transform = '');
            });

            // === INITIALIZE ===
            setTimeout(() => {
                // Auto-open editor on startup
                openWindow(windows.editor);
            }, 1000);
        }

        // Helper function for terminal-like output
        function addLine(text, type = '') {
            // This is kept for compatibility but not used in this version
            console.log(text);
        }
    </script>
</body>
</html>