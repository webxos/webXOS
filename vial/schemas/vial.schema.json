{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "id": { "type": "string" },
    "code": { "type": "object", "properties": { "js": { "type": "string" } }, "required": ["js"] },
    "training": { "$ref": "training.schema.json" },
    "status": { "type": "string", "enum": ["running", "stopped", "error"] },
    "latencyHistory": { "type": "array", "items": { "type": "number" } },
    "filePath": { "type": "string" },
    "createdAt": { "type": "string", "format": "date-time" },
    "codeLength": { "type": "integer" }
  },
  "required": ["id", "code", "training"]
}

# Instructions:
# - Defines vial structure
# - Used by vial_manager.js
