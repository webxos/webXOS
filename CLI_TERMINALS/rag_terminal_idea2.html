<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI RAG System v0.1 by webXOS</title>
</head>
<body style="background-color: black; color: #00ff00; font-family: 'Courier New', monospace; margin: 0; padding: 20px; line-height: 1.5;">

    <div style="max-width: 900px; margin: auto;">
        <!-- Header with status indicators -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h1 style="color: #00ff00; margin: 0; font-size: 1.5em; letter-spacing: 1px;">CLI RAG System v0.1 by webXOS</h1>
            <div style="font-size: 0.9em;">
                <span style="color: #00ff00;">●</span> <span style="color: #aaa;">SYSTEM: ONLINE</span> | 
                <span style="color: #00ff00;">●</span> <span style="color: #aaa;">DB: CONNECTED</span>
            </div>
        </div>

        <!-- File System Navigation/Display Area -->
        <div style="background-color: #111; padding: 15px; margin-bottom: 20px; border: 1px solid #00ff00; height: 250px; overflow-y: scroll;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <div style="color: #00ff00;">Directory: <span id="currentDir" style="color: #fff;">/system/documents/</span></div>
                <div style="font-size: 0.9em;">
                    <button onclick="navigateUp()" style="background: none; color: #00ff00; border: 1px solid #00ff00; padding: 3px 8px; margin-right: 5px; cursor: pointer;">↑ UP</button>
                    <button onclick="refreshFiles()" style="background: none; color: #00ff00; border: 1px solid #00ff00; padding: 3px 8px; cursor: pointer;">↻ REFRESH</button>
                </div>
            </div>
            
            <div id="fileList">
                <div style="display: flex; align-items: center; padding: 5px 0; border-bottom: 1px solid #333; cursor: pointer;" onclick="selectFile('Project_Alpha')">
                    <div style="color: #00ff00; margin-right: 10px;">▶</div>
                    <div style="color: #00ccff;">[DIR]</div>
                    <div style="margin-left: 10px;">Project_Alpha/</div>
                </div>
                <div style="display: flex; align-items: center; padding: 5px 0; border-bottom: 1px solid #333; cursor: pointer;" onclick="selectFile('Internal_Memos')">
                    <div style="color: #00ff00; margin-right: 10px;">▶</div>
                    <div style="color: #00ccff;">[DIR]</div>
                    <div style="margin-left: 10px;">Internal_Memos/</div>
                </div>
                <div style="display: flex; align-items: center; padding: 5px 0; border-bottom: 1px solid #333; cursor: pointer;" onclick="selectFile('system_log.txt')">
                    <div style="color: #00ff00; margin-right: 10px;">▶</div>
                    <div style="color: #ff9900;">[FILE]</div>
                    <div style="margin-left: 10px;">system_log.txt</div>
                    <div style="margin-left: auto; color: #aaa;">(1.2 MB)</div>
                </div>
                <div style="display: flex; align-items: center; padding: 5px 0; border-bottom: 1px solid #333; cursor: pointer;" onclick="selectFile('Q3_report.pdf')">
                    <div style="color: #00ff00; margin-right: 10px;">▶</div>
                    <div style="color: #ff9900;">[FILE]</div>
                    <div style="margin-left: 10px;">Q3_report.pdf</div>
                    <div style="margin-left: auto; color: #aaa;">(500 KB)</div>
                </div>
            </div>
            
            <div style="margin-top: 15px; color: #aaa; font-size: 0.9em;">
                <div>Selected: <span id="selectedFile" style="color: #00ff00;">None</span></div>
                <div>Total: 4 items (2 directories, 2 files)</div>
            </div>
        </div>

        <!-- RAG Database Interaction Area -->
        <div style="margin-bottom: 20px; background-color: #111; padding: 15px; border: 1px solid #00ff00;">
            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                <label for="query" style="margin-right: 10px;">RAG Query ></label>
                <div style="flex-grow: 1;">
                    <input type="text" id="query" placeholder="Enter your query..." 
                           style="width: 100%; background-color: black; color: #00ff00; border: 1px solid #00ff00; padding: 8px; box-sizing: border-box; font-family: 'Courier New', monospace;"
                           onkeypress="handleKeyPress(event)">
                </div>
            </div>
            
            <div style="display: flex; justify-content: space-between;">
                <div>
                    <button onclick="executeQuery()" 
                            style="background-color: #00ff00; color: black; border: none; padding: 8px 20px; margin-right: 10px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold;">
                        EXECUTE QUERY
                    </button>
                    <button onclick="clearConsole()" 
                            style="background: none; color: #ff5555; border: 1px solid #ff5555; padding: 8px 20px; cursor: pointer; font-family: 'Courier New', monospace;">
                        CLEAR CONSOLE
                    </button>
                </div>
                <div style="color: #aaa; font-size: 0.9em;">
                    Press <span style="color: #00ff00;">Enter</span> to execute
                </div>
            </div>
        </div>

        <!-- RAG Results/Console Output -->
        <div id="consoleOutput" style="background-color: #111; padding: 15px; border: 1px solid #00ff00; height: 250px; overflow-y: scroll;">
            <div style="color: #00ff00; margin-bottom: 10px;">Console Output:</div>
            <div id="consoleContent">
                <p style="color: #aaa;">> System initialized at <span id="currentTime"></span></p>
                <p style="color: #aaa;">> RAG database connection established</p>
                <p style="color: #aaa;">> Ready for queries</p>
            </div>
        </div>

        <!-- Status Bar -->
        <div style="margin-top: 15px; padding: 8px; background-color: #111; border-top: 1px solid #00ff00; font-size: 0.9em; color: #aaa; display: flex; justify-content: space-between;">
            <div>
                <span id="statusIndicator" style="color: #00ff00;">●</span> IDLE
            </div>
            <div>
                Documents indexed: <span style="color: #00ff00;">42</span> | 
                Response time: <span style="color: #00ff00;">< 1s</span>
            </div>
        </div>
    </div>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateTime();
            setInterval(updateTime, 60000);
            
            // Auto-focus the query input
            document.getElementById('query').focus();
        });

        // Update current time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const dateString = now.toLocaleDateString();
            document.getElementById('currentTime').textContent = `${dateString} ${timeString}`;
        }

        // Handle Enter key press in query input
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                executeQuery();
            }
        }

        // Execute RAG query
        function executeQuery() {
            const queryInput = document.getElementById('query');
            const query = queryInput.value.trim();
            
            if (!query) return;
            
            // Update status
            const statusIndicator = document.getElementById('statusIndicator');
            statusIndicator.style.color = '#ffff00';
            document.querySelector('#statusIndicator').parentElement.innerHTML = '<span id="statusIndicator" style="color: #ffff00;">●</span> PROCESSING';
            
            // Add query to console
            const consoleContent = document.getElementById('consoleContent');
            const queryElement = document.createElement('p');
            queryElement.innerHTML = `<span style="color: #00ff00;">> QUERY:</span> ${query}`;
            consoleContent.appendChild(queryElement);
            
            // Simulate processing
            const processingElement = document.createElement('p');
            processingElement.innerHTML = `<span style="color: #aaa;">> Searching knowledge base...</span>`;
            consoleContent.appendChild(processingElement);
            
            // Clear input
            queryInput.value = '';
            
            // Scroll console to bottom
            const consoleOutput = document.getElementById('consoleOutput');
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
            
            // Simulate API delay, then show response
            setTimeout(() => {
                // Remove processing message
                processingElement.remove();
                
                // Add retrieval message
                const retrievalElement = document.createElement('p');
                retrievalElement.innerHTML = `<span style="color: #aaa;">> Retrieved 3 relevant chunks from Q3_report.pdf.</span>`;
                consoleContent.appendChild(retrievalElement);
                
                // Add response
                const responses = [
                    "Q3 revenue increased by 15% compared to Q2, driven by new client acquisitions in the EMEA region.",
                    "The report indicates a 22% reduction in operational costs following the Q2 optimization initiative.",
                    "Customer satisfaction scores improved to 4.8/5.0, representing a 12% increase from the previous quarter.",
                    "Market analysis suggests a 30% growth opportunity in the APAC region for Q4.",
                    "System logs show 99.8% uptime for the quarter, exceeding the 99.5% SLA target."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                const responseElement = document.createElement('p');
                responseElement.innerHTML = `<span style="color: #00ff00;">RESPONSE:</span> ${randomResponse}`;
                responseElement.style.marginTop = "5px";
                consoleContent.appendChild(responseElement);
                
                // Update status
                statusIndicator.style.color = '#00ff00';
                document.querySelector('#statusIndicator').parentElement.innerHTML = '<span id="statusIndicator" style="color: #00ff00;">●</span> READY';
                
                // Scroll to bottom
                consoleOutput.scrollTop = consoleOutput.scrollHeight;
            }, 1000 + Math.random() * 1500);
        }

        // Clear console
        function clearConsole() {
            const consoleContent = document.getElementById('consoleContent');
            consoleContent.innerHTML = `
                <p style="color: #aaa;">> Console cleared at <span id="currentTime">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span></p>
                <p style="color: #aaa;">> Ready for queries</p>
            `;
            updateTime();
        }

        // File system interactions
        function selectFile(filename) {
            document.getElementById('selectedFile').textContent = filename;
            
            // Highlight selected file
            const fileItems = document.querySelectorAll('#fileList > div');
            fileItems.forEach(item => {
                item.style.backgroundColor = 'transparent';
            });
            event.currentTarget.style.backgroundColor = '#222';
        }

        function navigateUp() {
            const currentDir = document.getElementById('currentDir');
            if (currentDir.textContent !== '/') {
                const parts = currentDir.textContent.split('/').filter(part => part);
                parts.pop();
                currentDir.textContent = '/' + parts.join('/') + (parts.length ? '/' : '');
                
                // Update file listing (simplified)
                document.getElementById('selectedFile').textContent = 'None';
            }
        }

        function refreshFiles() {
            // Simulate refreshing file list
            const statusText = document.querySelector('#statusIndicator').parentElement;
            const originalText = statusText.innerHTML;
            statusText.innerHTML = '<span id="statusIndicator" style="color: #ffff00;">●</span> REFRESHING FS';
            
            setTimeout(() => {
                statusText.innerHTML = originalText;
                
                // Add a log entry
                const consoleContent = document.getElementById('consoleContent');
                const logEntry = document.createElement('p');
                logEntry.innerHTML = `<span style="color: #aaa;">> File system refreshed at ${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>`;
                consoleContent.appendChild(logEntry);
                
                // Scroll console to bottom
                const consoleOutput = document.getElementById('consoleOutput');
                consoleOutput.scrollTop = consoleOutput.scrollHeight;
            }, 800);
        }
    </script>

</body>
</html>
