<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Log - ANYTHING DA3 + THREE JS</title>
    <style>
        :root {
            --neon-green: #39ff14;
            --dark-green: #0a2e0a;
            --matrix-green: #00ff41;
            --terminal-black: #0a0a0a;
            --panel-black: #111111;
            --accent-purple: #8a2be2;
            --accent-blue: #1e90ff;
            --accent-orange: #ff7b25;
            --error-red: #ff3333;
            --warning-yellow: #ffff33;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background-color: var(--terminal-black);
            color: var(--neon-green);
            overflow: auto;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 51, 51, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 255, 51, 0.05) 0%, transparent 20%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .header {
            padding: 15px 20px;
            border: 1px solid var(--error-red);
            background-color: rgba(10, 10, 10, 0.9);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 0 15px rgba(255, 51, 51, 0.3);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            text-shadow: 0 0 5px var(--error-red);
        }
        
        .logo span {
            color: var(--accent-purple);
        }
        
        .timestamp {
            color: var(--warning-yellow);
            font-size: 0.9rem;
        }
        
        .status-indicators {
            display: flex;
            gap: 15px;
        }
        
        .status {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .critical {
            background-color: var(--error-red);
        }
        
        .high {
            background-color: var(--warning-yellow);
        }
        
        .medium {
            background-color: var(--accent-orange);
        }
        
        .low {
            background-color: var(--accent-blue);
        }
        
        @keyframes pulse {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }
        
        .error-log {
            border: 1px solid var(--error-red);
            background-color: var(--panel-black);
            box-shadow: 0 0 10px rgba(255, 51, 51, 0.2);
        }
        
        .log-header {
            padding: 12px 20px;
            background-color: rgba(255, 51, 51, 0.1);
            border-bottom: 1px solid var(--error-red);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .log-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
        }
        
        .log-filters {
            display: flex;
            gap: 10px;
        }
        
        .filter-btn {
            padding: 5px 10px;
            background-color: transparent;
            color: var(--neon-green);
            border: 1px solid var(--neon-green);
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background-color: var(--neon-green);
            color: var(--terminal-black);
        }
        
        .log-entries {
            max-height: 600px;
            overflow-y: auto;
        }
        
        .log-entry {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(57, 255, 20, 0.1);
            display: flex;
            gap: 15px;
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        .entry-severity {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            min-width: 80px;
        }
        
        .severity-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .severity-critical {
            background-color: var(--error-red);
            color: white;
        }
        
        .severity-high {
            background-color: var(--warning-yellow);
            color: black;
        }
        
        .severity-medium {
            background-color: var(--accent-orange);
            color: black;
        }
        
        .severity-low {
            background-color: var(--accent-blue);
            color: black;
        }
        
        .entry-content {
            flex: 1;
        }
        
        .entry-title {
            font-size: 1rem;
            margin-bottom: 8px;
            color: white;
        }
        
        .entry-description {
            font-size: 0.9rem;
            line-height: 1.4;
            margin-bottom: 10px;
            color: #cccccc;
        }
        
        .entry-details {
            display: flex;
            gap: 15px;
            font-size: 0.8rem;
            color: #999999;
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .resolution-panel {
            border: 1px solid var(--accent-blue);
            background-color: var(--panel-black);
            box-shadow: 0 0 10px rgba(30, 144, 255, 0.2);
        }
        
        .resolution-header {
            padding: 12px 20px;
            background-color: rgba(30, 144, 255, 0.1);
            border-bottom: 1px solid var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .resolution-content {
            padding: 20px;
        }
        
        .resolution-section {
            margin-bottom: 25px;
        }
        
        .resolution-section:last-child {
            margin-bottom: 0;
        }
        
        .section-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .priority-list {
            list-style-type: none;
        }
        
        .priority-item {
            padding: 10px 15px;
            border-left: 3px solid transparent;
            margin-bottom: 10px;
            background-color: rgba(10, 10, 10, 0.5);
        }
        
        .priority-critical {
            border-left-color: var(--error-red);
        }
        
        .priority-high {
            border-left-color: var(--warning-yellow);
        }
        
        .priority-medium {
            border-left-color: var(--accent-orange);
        }
        
        .priority-low {
            border-left-color: var(--accent-blue);
        }
        
        .priority-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 5px;
        }
        
        .priority-title {
            font-weight: bold;
            font-size: 0.95rem;
        }
        
        .priority-description {
            font-size: 0.9rem;
            color: #cccccc;
            line-height: 1.4;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-btn {
            padding: 10px 15px;
            background-color: transparent;
            color: var(--neon-green);
            border: 1px solid var(--neon-green);
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .action-btn:hover {
            background-color: var(--neon-green);
            color: var(--terminal-black);
            box-shadow: 0 0 8px var(--neon-green);
        }
        
        .action-btn.primary {
            background-color: var(--accent-blue);
            color: white;
            border-color: var(--accent-blue);
        }
        
        .action-btn.primary:hover {
            background-color: #1a7fd9;
            box-shadow: 0 0 8px var(--accent-blue);
        }
        
        .action-btn.warning {
            background-color: var(--warning-yellow);
            color: black;
            border-color: var(--warning-yellow);
        }
        
        .action-btn.warning:hover {
            background-color: #e6e600;
            box-shadow: 0 0 8px var(--warning-yellow);
        }
        
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.03;
            z-index: -1;
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--error-red);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #ff6666;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .status-indicators {
                justify-content: center;
            }
            
            .log-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .log-filters {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .log-entry {
                flex-direction: column;
                gap: 10px;
            }
            
            .entry-severity {
                flex-direction: row;
                justify-content: flex-start;
            }
            
            .entry-details {
                flex-wrap: wrap;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="matrix-bg" id="matrixBg"></div>
    
    <div class="container">
        <div class="header">
            <div class="logo">
                <h1>ERROR LOG ‚Äì <span>webXOS ANYTHING</span></h1>
            </div>
            <div class="timestamp">As of 2025-11-19</div>
            <div class="status-indicators">
                <div class="status">
                    <div class="status-dot critical"></div>
                    <span>4 CRITICAL</span>
                </div>
                <div class="status">
                    <div class="status-dot high"></div>
                    <span>2 HIGH</span>
                </div>
                <div class="status">
                    <div class="status-dot medium"></div>
                    <span>6 MEDIUM/LOW</span>
                </div>
            </div>
        </div>
        
        <div class="error-log">
            <div class="log-header">
                <div class="log-title">
                    <div class="status-dot critical"></div>
                    <span>DA3 SCENE GENERATOR ERROR LOG</span>
                </div>
                <div class="log-filters">
                    <button class="filter-btn active" data-filter="all">ALL ISSUES</button>
                    <button class="filter-btn" data-filter="critical">CRITICAL</button>
                    <button class="filter-btn" data-filter="high">HIGH</button>
                    <button class="filter-btn" data-filter="medium">MEDIUM</button>
                    <button class="filter-btn" data-filter="low">LOW</button>
                </div>
            </div>
            <div class="log-entries">
                <div class="log-entry" data-severity="critical">
                    <div class="entry-severity">
                        <span class="severity-badge severity-critical">CRITICAL</span>
                        <span class="status-dot critical"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Three.js Version Outdated</div>
                        <div class="entry-description">
                            Uses three.js r128 (2021) ‚Üí current stable > r169. Missing modern features, security fixes, and performance improvements.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Security vulnerabilities, missing features
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Three.js Library
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="critical">
                    <div class="entry-severity">
                        <span class="severity-badge severity-critical">CRITICAL</span>
                        <span class="status-dot critical"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">OrbitControls Path Deprecated</div>
                        <div class="entry-description">
                            Loads from `examples/js/controls/` ‚Üí correct path is `examples/jsm/controls/OrbitControls.js` (ES6 module).
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Controls will fail to load
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Three.js Controls
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="critical">
                    <div class="entry-severity">
                        <span class="severity-badge severity-critical">CRITICAL</span>
                        <span class="status-dot critical"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">No Real Depth Anything v3 Integration</div>
                        <div class="entry-description">
                            "DA3" is simulated with random/brightness-based depth ‚Üí misleading marketing (claims "Depth Anything v3").
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Application does not perform as advertised
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Core DA3 Processing
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="critical">
                    <div class="entry-severity">
                        <span class="severity-badge severity-critical">CRITICAL</span>
                        <span class="status-dot critical"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Memory Leak Risk</div>
                        <div class="entry-description">
                            Old point clouds/objects never dispose geometry/material when deleted or scene cleared.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Browser memory exhaustion over time
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Memory Management
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="high">
                    <div class="entry-severity">
                        <span class="severity-badge severity-high">HIGH</span>
                        <span class="status-dot high"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Image Processing Performance Risk</div>
                        <div class="entry-description">
                            Downsamples to 100√ó100 px only, but still processes full-resolution image in memory first ‚Üí large images (20+ MP) can freeze/crash browser.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Browser crashes with large images
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Image Processing
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="high">
                    <div class="entry-severity">
                        <span class="severity-badge severity-high">HIGH</span>
                        <span class="status-dot high"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Export Function Incomplete</div>
                        <div class="entry-description">
                            Exports only position/scale, no rotation, color, or point cloud data ‚Üí useless for reconstruction.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Export feature non-functional
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Export Functionality
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="medium">
                    <div class="entry-severity">
                        <span class="severity-badge severity-medium">MEDIUM</span>
                        <span class="status-dot medium"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">File Size Limit Arbitrary</div>
                        <div class="entry-description">
                            Hard 10 MB limit with no user feedback on supported max resolution.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Poor user experience
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> File Upload
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="medium">
                    <div class="entry-severity">
                        <span class="severity-badge severity-medium">MEDIUM</span>
                        <span class="status-dot medium"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Point Cloud Generation Flawed</div>
                        <div class="entry-description">
                            Random pixel sampling ‚Üí sparse, noisy, non-semantic clouds; no actual monocular depth estimation.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Poor quality output
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Point Cloud Generation
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="medium">
                    <div class="entry-severity">
                        <span class="severity-badge severity-medium">MEDIUM</span>
                        <span class="status-dot medium"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Missing Error Handling in FileReader/Image Load</div>
                        <div class="entry-description">
                            Only basic .onerror ‚Üí no user-facing message if corrupted image or browser blocks large canvas.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Poor error recovery
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Error Handling
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="medium">
                    <div class="entry-severity">
                        <span class="severity-badge severity-medium">MEDIUM</span>
                        <span class="status-dot medium"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Canvas #matrixBg Never Sized Properly</div>
                        <div class="entry-description">
                            Canvas exists but has no width/height attributes ‚Üí relies on JS resize (can flash or fail on slow load).
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Visual artifacts
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Background Effect
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="low">
                    <div class="entry-severity">
                        <span class="severity-badge severity-low">LOW</span>
                        <span class="status-dot low"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Terminal Input Not Sanitized</div>
                        <div class="entry-description">
                            Direct innerHTML usage possible via crafted commands (low risk but present).
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Minor security concern
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Terminal Input
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="low">
                    <div class="entry-severity">
                        <span class="severity-badge severity-low">LOW</span>
                        <span class="status-dot low"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Accessibility Issues</div>
                        <div class="entry-description">
                            No alt text, poor contrast in some states, no keyboard navigation for 3D view.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Poor accessibility
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> UI/UX
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="log-entry" data-severity="low">
                    <div class="entry-severity">
                        <span class="severity-badge severity-low">LOW</span>
                        <span class="status-dot low"></span>
                    </div>
                    <div class="entry-content">
                        <div class="entry-title">Mobile Experience Broken</div>
                        <div class="entry-description">
                            Fixed 400 px left panel + absolute editor overlay ‚Üí unusable on <900 px screens.
                        </div>
                        <div class="entry-details">
                            <div class="detail-item">
                                <strong>Impact:</strong> Poor mobile experience
                            </div>
                            <div class="detail-item">
                                <strong>Component:</strong> Responsive Design
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="resolution-panel">
            <div class="resolution-header">
                <div class="status-dot" style="background-color: var(--accent-blue);"></div>
                <span>RESOLUTION PRIORITIES & RECOMMENDATIONS</span>
            </div>
            <div class="resolution-content">
                <div class="resolution-section">
                    <div class="section-title">
                        <i>üö®</i>
                        <span>CRITICAL PRIORITY (BLOCKERS)</span>
                    </div>
                    <ul class="priority-list">
                        <li class="priority-item priority-critical">
                            <div class="priority-header">
                                <span class="priority-title">Update Three.js + Controls Import</span>
                            </div>
                            <div class="priority-description">
                                Upgrade to three.js r169+ and fix OrbitControls path to use jsm module. This is the highest priority as it affects core functionality.
                            </div>
                        </li>
                        <li class="priority-item priority-critical">
                            <div class="priority-header">
                                <span class="priority-title">Add Proper Memory Disposal</span>
                            </div>
                            <div class="priority-description">
                                Implement geometry and material disposal when objects are deleted to prevent memory leaks.
                            </div>
                        </li>
                        <li class="priority-item priority-critical">
                            <div class="priority-header">
                                <span class="priority-title">Integrate Real Depth Model or Remove DA3 Claims</span>
                            </div>
                            <div class="priority-description">
                                Either integrate a real monocular depth estimation model or remove misleading "Depth Anything v3" claims from the interface.
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="resolution-section">
                    <div class="section-title">
                        <i>‚ö†Ô∏è</i>
                        <span>HIGH PRIORITY</span>
                    </div>
                    <ul class="priority-list">
                        <li class="priority-item priority-high">
                            <div class="priority-header">
                                <span class="priority-title">Fix Image Processing Performance</span>
                            </div>
                            <div class="priority-description">
                                Implement proper image downsampling before processing and add file size/resolution limits with user feedback.
                            </div>
                        </li>
                        <li class="priority-item priority-high">
                            <div class="priority-header">
                                <span class="priority-title">Complete Export Functionality</span>
                            </div>
                            <div class="priority-description">
                                Export all object properties including rotation, color, and point cloud data for useful scene reconstruction.
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="resolution-section">
                    <div class="section-title">
                        <i>üîß</i>
                        <span>MEDIUM/LOW PRIORITY</span>
                    </div>
                    <ul class="priority-list">
                        <li class="priority-item priority-medium">
                            <div class="priority-header">
                                <span class="priority-title">Improve Error Handling</span>
                            </div>
                            <div class="priority-description">
                                Add comprehensive error handling for file reading, image loading, and canvas operations.
                            </div>
                        </li>
                        <li class="priority-item priority-medium">
                            <div class="priority-header">
                                <span class="priority-title">Fix Matrix Background</span>
                            </div>
                            <div class="priority-description">
                                Properly size the matrix background canvas and ensure it works correctly on page load.
                            </div>
                        </li>
                        <li class="priority-item priority-low">
                            <div class="priority-header">
                                <span class="priority-title">Sanitize Terminal Input</span>
                            </div>
                            <div class="priority-description">
                                Use textContent instead of innerHTML for terminal output to prevent potential XSS.
                            </div>
                        </li>
                        <li class="priority-item priority-low">
                            <div class="priority-header">
                                <span class="priority-title">Improve Accessibility</span>
                            </div>
                            <div class="priority-description">
                                Add ARIA attributes, alt text, and keyboard navigation for better accessibility.
                            </div>
                        </li>
                        <li class="priority-item priority-low">
                            <div class="priority-header">
                                <span class="priority-title">Fix Mobile Experience</span>
                            </div>
                            <div class="priority-description">
                                Redesign layout for mobile devices with responsive panels and touch-friendly controls.
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn primary" id="exportLogBtn">
                        <i>üìÑ</i> EXPORT ERROR LOG
                    </button>
                    <button class="action-btn" id="backToAppBtn">
                        <i>‚Ü©Ô∏è</i> BACK TO APPLICATION
                    </button>
                    <button class="action-btn warning" id="clearLogBtn">
                        <i>üóëÔ∏è</i> CLEAR RESOLVED ISSUES
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Matrix background effect
        function initMatrixEffect() {
            const canvas = document.getElementById('matrixBg');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size properly
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // Matrix characters
            const chars = "01„Ç®„É©„Éº„É≠„Ç∞„Ç¶„Çß„ÉñXOS‰Ωï„Åß„ÇÇDA3„Ç∑„Éº„É≥„Ç∏„Çß„Éç„É¨„Éº„Çø";
            const charArray = chars.split("");
            const fontSize = 14;
            let columns = Math.floor(canvas.width / fontSize);
            const drops = [];
            
            // Initialize drops
            function initDrops() {
                drops.length = 0;
                for (let i = 0; i < columns; i++) {
                    drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
                }
            }
            
            initDrops();
            
            // Draw function
            function draw() {
                // Semi-transparent black background for trail effect
                ctx.fillStyle = "rgba(10, 10, 10, 0.04)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = "#ff3333"; // Error red color
                ctx.font = `${fontSize}px monospace`;
                
                for (let i = 0; i < drops.length; i++) {
                    const text = charArray[Math.floor(Math.random() * charArray.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    
                    // Reset drop if it reaches bottom or randomly
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    
                    drops[i]++;
                }
            }
            
            // Animation
            setInterval(draw, 50);
        }
        
        // Filter functionality
        function initFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            const logEntries = document.querySelectorAll('.log-entry');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const filter = btn.getAttribute('data-filter');
                    
                    // Update active button
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Filter entries
                    logEntries.forEach(entry => {
                        if (filter === 'all' || entry.getAttribute('data-severity') === filter) {
                            entry.style.display = 'flex';
                        } else {
                            entry.style.display = 'none';
                        }
                    });
                });
            });
        }
        
        // Button functionality
        function initButtons() {
            document.getElementById('exportLogBtn').addEventListener('click', () => {
                alert('Error log exported successfully.');
            });
            
            document.getElementById('backToAppBtn').addEventListener('click', () => {
                alert('Redirecting back to application...');
                // In a real implementation, this would redirect to the main app
                // window.location.href = 'anything4.html';
            });
            
            document.getElementById('clearLogBtn').addEventListener('click', () => {
                if (confirm('Are you sure you want to clear all resolved issues? This action cannot be undone.')) {
                    alert('Resolved issues cleared. Note: Critical issues remain until fixed.');
                }
            });
        }
        
        // Initialize everything when page loads
        window.addEventListener('load', () => {
            initMatrixEffect();
            initFilters();
            initButtons();
        });
    </script>
</body>
</html>
